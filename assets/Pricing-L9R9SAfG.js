import{A as b,r as p,v as j,j as e,L as N}from"./index-BcidyErx.js";import{N as w,F as v}from"./Footer-atfOdnUi.js";import{S as P,Z as S,B as C}from"./button-C1xZ7Xow.js";import{C as k}from"./crown-CW3cksEh.js";import{U as A}from"./users-Bzm4NjIh.js";import{C as F}from"./check-DZkud6wv.js";import{L as R}from"./loader-circle-kEdrm-Lq.js";const x=[{id:"starter",name:"Starter",amount:19900,minutes:60},{id:"pro",name:"Pro",amount:49900,minutes:150},{id:"team",name:"Team",amount:99900,minutes:400}],m={loadRazorpay:()=>new Promise(s=>{const a=document.createElement("script");a.src="https://checkout.razorpay.com/v1/checkout.js",a.onload=()=>s(!0),a.onerror=()=>s(!1),document.body.appendChild(a)}),createOrder:async(s,a,i)=>{const t=x.find(o=>o.id===s);if(!t)throw new Error("Plan not found");return{id:`order_${Date.now()}`,amount:t.amount,currency:"INR",planId:s,userId:a,userEmail:i}},initiatePayment:async(s,a,i,t)=>{if(!await m.loadRazorpay())throw new Error("Razorpay failed to load");const o=await m.createOrder(s,a,i),n=x.find(d=>d.id===s),u={key:"rzp_test_S4KGJ0QoIFdCTW",amount:o.amount,currency:o.currency,name:"Tanzify AI",description:`${n==null?void 0:n.name} Plan - ${n==null?void 0:n.minutes} minutes`,order_id:o.id,prefill:{name:t,email:i},theme:{color:"#8b5cf6"},handler:async d=>{await m.handlePaymentSuccess(d,s,a)},modal:{ondismiss:()=>{console.log("Payment cancelled")}}};new window.Razorpay(u).open()},handlePaymentSuccess:async(s,a,i)=>{try{const t=x.find(c=>c.id===a);await b.from("users").update({subscription_plan:a,minutes_used:0,updated_at:new Date().toISOString()}).eq("id",i),alert(`Payment successful! Welcome to ${t==null?void 0:t.name} Plan with ${t==null?void 0:t.minutes} minutes.`),window.location.href="/dashboard"}catch(t){console.error("Error updating user plan:",t),alert("Payment successful but failed to update your account. Please contact support.")}}},_=()=>{const[s,a]=p.useState("INR"),[i,t]=p.useState("monthly"),[c,o]=p.useState(!1),{user:n}=j(),u=async r=>{if(!n){window.location.href="/login";return}if(r==="free"){alert("You are already on the free plan!");return}o(!0);try{await m.initiatePayment(r,n.id,n.email,n.name)}catch(l){console.error("Error starting payment:",l),alert("Failed to start payment. Please try again.")}finally{o(!1)}},h=[{name:"Free",description:"Perfect for trying out",price:0,minutes:30,icon:P,features:["30 minutes/month","Basic transcription","TXT & SRT export","Email support"],popular:!1,cta:"Start Free",variant:"outline",planId:"free"},{name:"Starter",description:"For casual creators",price:199,minutes:60,icon:S,features:["60 minutes/month","Clean exports","All export formats","Priority email support","Remove watermark"],popular:!1,cta:"Buy Starter",variant:"outline",planId:"starter"},{name:"Pro",description:"Most popular choice",price:499,minutes:150,icon:k,features:["150 minutes/month","Priority processing","All export formats","Speaker detection","Advanced accuracy","API access","Custom vocabulary"],popular:!0,cta:"Buy Pro",variant:"default",planId:"pro"},{name:"Team",description:"For growing teams",price:999,minutes:400,icon:A,features:["400 minutes/month","Everything in Pro","Team collaboration","5 team members","Admin dashboard","Shared minutes pool","Dedicated support"],popular:!1,cta:"Buy Team",variant:"secondary",planId:"team"}],d=r=>r===0?"Free":`â‚¹${r}`,f=[{icon:GraduationCap,title:"Student Discount",description:"60% off for .edu emails",color:"primary"},{icon:Building2,title:"Enterprise",description:"Custom solutions for large teams",color:"secondary"},{icon:Headphones,title:"Content Creators",description:"Free months for testimonials",color:"accent"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(w,{}),e.jsx("main",{className:"pt-24 pb-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("span",{className:"inline-block px-4 py-2 bg-accent/10 text-accent font-medium rounded-full text-sm mb-4",children:"Simple, Affordable Pricing"}),e.jsxs("h1",{className:"font-heading text-4xl sm:text-5xl md:text-6xl font-bold mb-4",children:["Plans That ",e.jsx("span",{className:"gradient-text",children:"Fit Your Budget"})]}),e.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto mb-8",children:"Start free, upgrade when you need. Pay with UPI, cards, or any Indian payment method."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto mb-16",children:h.map((r,l)=>e.jsxs("div",{className:`relative bg-card rounded-2xl p-6 border transition-all duration-300 hover:shadow-xl hover:-translate-y-1 ${r.popular?"border-primary shadow-glow ring-2 ring-primary":"border-border"}`,children:[r.popular&&e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:e.jsx("span",{className:"inline-flex items-center gap-1 px-4 py-1.5 bg-primary text-primary-foreground text-xs font-bold rounded-full whitespace-nowrap",children:"ðŸŽ¯ MOST POPULAR"})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl ${r.popular?"bg-primary/10":"bg-muted"} flex items-center justify-center mb-4`,children:e.jsx(r.icon,{className:`w-6 h-6 ${r.popular?"text-primary":"text-muted-foreground"}`})}),e.jsx("h3",{className:"font-heading text-xl font-bold",children:r.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"font-heading text-4xl font-bold",children:d(r.price)}),r.price>0&&e.jsx("span",{className:"text-muted-foreground",children:"/month"})]}),e.jsxs("p",{className:"text-sm text-secondary font-medium mt-1",children:[r.minutes," minutes included"]})]}),e.jsx("ul",{className:"space-y-3 mb-6",children:r.features.map((y,g)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(F,{className:"w-4 h-4 text-secondary mt-0.5 flex-shrink-0"}),e.jsx("span",{children:y})]},g))}),e.jsx(C,{variant:r.variant,className:"w-full",size:"lg",onClick:()=>u(r.planId),disabled:c,children:c?e.jsx(R,{className:"w-4 h-4 animate-spin mr-2"}):r.cta})]},l))}),e.jsxs("div",{className:"max-w-4xl mx-auto mb-16",children:[e.jsx("h2",{className:"font-heading text-2xl font-bold text-center mb-8",children:"Special Programs"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:f.map((r,l)=>e.jsxs("div",{className:"bg-card rounded-xl p-6 border border-border card-hover text-center",children:[e.jsx("div",{className:`w-14 h-14 rounded-xl bg-${r.color}/10 border border-${r.color}/20 flex items-center justify-center mx-auto mb-4`,children:e.jsx(r.icon,{className:`w-7 h-7 text-${r.color}`})}),e.jsx("h3",{className:"font-heading font-bold text-lg mb-2",children:r.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]},l))})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-secondary/10 border border-secondary/20 rounded-full",children:[e.jsx("span",{className:"text-secondary font-semibold",children:"ðŸ’° 30-Day Money-Back Guarantee"}),e.jsx("span",{className:"text-muted-foreground",children:"â€” No questions asked"})]})}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("p",{className:"text-muted-foreground",children:["Have questions about pricing?"," ",e.jsx(N,{to:"/#faq",className:"text-primary font-semibold hover:underline",children:"Check our FAQ"})]})})]})}),e.jsx(v,{})]})};export{_ as default};
